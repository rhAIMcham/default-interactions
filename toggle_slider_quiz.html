<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
  <title>Communication Style Assessment</title>
<style>
:root {
  --AIMblue: #4353A3;
  --darkBlue: #38416D;
  --teal: #5DC8B9;
  --cream: #F1EEDE;
  --grey: #e7e9ec;
  --rust: #AF4510;
  --navy: #12195C;
  --white: #ffffff;
  --lightBlue: #AEBAE4;
}

body {
    font-family: "IBM Plex Sans", sans-serif;
    margin: 0;
    padding: 0;
    margin-top: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.CardSlider {
    width: 100%;
    max-width: 900px;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
    padding: 20px;
    box-sizing: border-box;
}

.CardSlide {
    display: none;
    width: 100%;
    min-height: 600px;
}

.CardSlide.active {
    display: block;
}

.displayGroup {
  text-align: center;
  justify-content: center;
}

.canvasCard {
  width: 500px;
  max-width: 100%;
  overflow: hidden;
  margin: 0 auto;
}

p {
  padding-right: 10px;
  text-align: left;
}

li {
  list-style: none;
  padding: 5px;
}

.resultsGroup {
  text-align: center;
  justify-content: center;
  display: flex;
  max-width: 500px;
  margin: 0 auto;
}

.resultsGroup > p {
  text-align: center;
}

.switch {
  position: relative;
  display: inline-block;
  min-width: 60px;
  height: 34px;
  margin-left: 40px;
}

.switch input { 
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #AF4510;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:focus + .slider {
  box-shadow: 0 0 0 3px var(--darkBlue), inset 0 0 0 2px var(--darkBlue);
  outline: 2px solid var(--darkBlue);
  outline-offset: 2px;
}

.inputOne:checked + .slider {
  background-color: #38416D;
}

.inputOne:focus + .slider {
  box-shadow: 0 0 1px #38416D;
}

.inputTwo:checked + .slider {
  background-color: #38416D;
}

.inputTwo:focus + .slider {
  box-shadow: 0 0 1px #38416D;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}

fieldset {
  width: 100%;
  border: none;
  padding: 0;
  margin: 0;
}

.checkContainer {
  border-bottom: grey 2px dotted;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 5px;
}

.checkContainer:last-child {
    border: none;
}

#displayed > p {
  text-align: center;
}

.submit-button {
  font-family: "IBM Plex Sans", sans-serif;
  margin: 20px auto;
  background-color: #12195C;
  color: white;
  width: 200px;
  border: solid 2px var(--cream);
  border-radius: 8px;
  cursor: pointer;
  padding: 10px;
  font-size: 1rem;
  display: block;
}

.submit-button:hover {
  background-color: var(--lightBlue);
  color: #12195C;
  border: solid 2px #12195C;
}
.submit-button:focus-visible {
  border: solid 2px var(--teal);
}

.floaty {
  float: right;
}

.hidden {
    display: none;
}

.navigation {
    margin: 5px 0 20px 0;
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
}

.nav-button {
    background-color: var(--cream);
    color: var(--darkBlue);
    border: 2px solid var(--darkBlue);
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: inherit;
    font-size: 0.9rem;
    font-weight: 500;
    min-width: 120px;
}

.nav-button:hover {
    background-color: var(--darkBlue);
    color: var(--white);
}

.nav-button.active {
    background-color: var(--AIMblue);
    color: var(--white);
    border-color: var(--AIMblue);
}

.nav-button:focus {
    outline: 2px solid var(--teal);
    outline-offset: 2px;
}

@media screen and (max-width: 800px) {
  .CardSlider {
    width: 95vw;
  }
  
  .navigation {
    gap: 8px;
  }
  
  .nav-button {
    padding: 6px 12px;
    font-size: 0.8rem;
    min-width: 100px;
  }
  
  .submit-button {
    margin: 10px auto;
    width: 180px;
  }
}
</style>
</head>
<body>
<!-- Navigation buttons -->
<div id="displayed">
  <p>Use these buttons to navigate through the three quiz screens.</p>
  <nav aria-label="Assessment navigation">
    <div class="navigation" role="tablist">
      <button class="nav-button active" 
              onclick="goToSlide(1)" 
              role="tab" 
              aria-selected="true" 
              aria-controls="slide-1"
              id="tab-1">
        Digital and technology
      </button>
      <button class="nav-button" 
              onclick="goToSlide(2)" 
              role="tab" 
              aria-selected="false" 
              aria-controls="slide-2"
              id="tab-2">
        Social/environment
      </button>
      <button class="nav-button" 
              onclick="goToSlide(3)" 
              role="tab" 
              aria-selected="false" 
              aria-controls="slide-3"
              id="tab-3">
        Work habits
      </button>
      <button class="nav-button" 
              onclick="goToSlide(4)" 
              role="tab" 
              aria-selected="false" 
              aria-controls="slide-4"
              id="tab-4">
        Submit & Results
      </button>
    </div>
  </nav>
  <p>Reflect on a regular workday. What are your most common distractions?</p>
</div>

<!-- Slider start -->
<div class="CardSlider" id="CardHolder" role="region" aria-live="polite">
    <!-- Slide 1: Digital/technology -->
    <div class="CardSlide active" id="slide-1" role="tabpanel" aria-labelledby="tab-1">
      <form name="s1digital" onsubmit="return false" onchange="calculateStyle1(this)">
        <fieldset>
          <legend>Digital and technology distractions</legend>
          <div class="formContainer">
            <div class="checkContainer">
                <h3 aria-hidden="true">Digital and technology distractions</h3>
                <h3 class="floaty" aria-hidden="true">NO / YES</h3>
            </div>
          
            <div class="checkContainer">
              <p id="q1-1-label">Email notifications</p>
              <label class="switch" aria-labelledby="q1-1-label">
                <input
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="one"
                  autocomplete="off"
                  aria-label="Email notifications">
                <span class="slider round"></span>
              </label>
            </div>
          
            <div class="checkContainer">
              <p id="q1-2-label">Instant messaging (Teams, Slack) notifications</p>
              <label class="switch" aria-labelledby="q1-2-label">
                <input 
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="two"
                  autocomplete="off"
                  aria-label="Instant messaging notifications">
                <span class="slider round"></span>
              </label>
            </div>
          
            <div class="checkContainer">
              <p id="q1-3-label">Social media use</p>
              <label class="switch" aria-labelledby="q1-3-label">
                <input 
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="three"
                  autocomplete="off"
                  aria-label="Social media use">
                <span class="slider round"></span>
              </label>
            </div>
          
            <div class="checkContainer">
              <p id="q1-4-label">Internet browsing</p>
              <label class="switch" aria-labelledby="q1-4-label">
                <input
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="four"
                  autocomplete="off"
                  aria-label="Internet browsing">
                <span class="slider round"></span>
              </label>
            </div>
          
            <div class="checkContainer">
              <p id="q1-5-label">Mobile phone (calls, texts, messages)</p>
              <label class="switch" aria-labelledby="q1-5-label">
                <input
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="five"
                  autocomplete="off"
                  aria-label="Mobile phone calls, texts, messages">
                <span class="slider round"></span>
              </label>
            </div>
          </div>
          <p style="display:none;"><output name="result" id="numericalResultOne" aria-live="polite"></output></p>
        </fieldset>
      </form>
    </div>
    
    <!-- Slide 2: Social/environment -->
    <div class="CardSlide" id="slide-2" role="tabpanel" aria-labelledby="tab-2">
      <form name="s2Social/environment" onsubmit="return false" onchange="calculateStyle2(this)">
        <fieldset>
          <legend>Social and environment distractions</legend>
          <div class="formContainer">
            <div class="checkContainer">
                <h3 aria-hidden="true">Social/environment distractions</h3>
                <h3 class="floaty" aria-hidden="true">NO / YES</h3>
            </div>
         
            <div class="checkContainer">
              <p id="q2-1-label">Noisy colleagues (conversations, loud typing)</p>
              <label class="switch" aria-labelledby="q2-1-label">
                <input
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="one"
                  autocomplete="off"
                  aria-label="Noisy colleagues">
                <span class="slider round"></span>
              </label>
            </div>
            
            <div class="checkContainer">
              <p id="q2-2-label">Chatty coworkers/visitors (impromptu visits, gossip)</p>
              <label class="switch" aria-labelledby="q2-2-label">
                <input 
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="two"
                  autocomplete="off"
                  aria-label="Chatty coworkers or visitors">
                <span class="slider round"></span>
              </label>
            </div>
            
            <div class="checkContainer">
              <p id="q2-3-label">Workspace environment (cluttered desk, poor lighting, uncomfortable temperature)</p>
              <label class="switch" aria-labelledby="q2-3-label">
                <input 
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="three"
                  autocomplete="off"
                  aria-label="Workspace environment issues">
                <span class="slider round"></span>
              </label>
            </div>
            
            <div class="checkContainer">
              <p id="q2-4-label">Ambient office noise (printer noise, microwaves)</p>
              <label class="switch" aria-labelledby="q2-4-label">
                <input
                  class="inputOne"
                  type="checkbox"
                  role="switch"
                  name="four"
                  autocomplete="off"
                  aria-label="Ambient office noise">
                <span class="slider round"></span>
              </label>
            </div>
          </div>
          <p style="display:none;"><output name="result" id="numericalResultTwo" aria-live="polite"></output></p>
        </fieldset>
      </form>
    </div>

    <!-- Slide 3: Work Habits -->
    <div class="CardSlide" id="slide-3" role="tabpanel" aria-labelledby="tab-3">
      <form name="s3WorkHabits" onsubmit="return false" onchange="calculateStyle3(this)">
       <fieldset>
        <legend>Work habit distractions</legend>
         <div class="formContainer">
          <div class="checkContainer">
              <h3 aria-hidden="true">Work habit distractions</h3>
              <h3 class="floaty" aria-hidden="true">NO / YES</h3>
          </div>
        
          <div class="checkContainer">
            <p id="q3-1-label">Too many meetings (without clear agendas)</p>
            <label class="switch" aria-labelledby="q3-1-label">
              <input
                class="inputOne"
                type="checkbox"
                role="switch"
                name="one"
                autocomplete="off"
                aria-label="Too many meetings">
              <span class="slider round"></span>
            </label>
          </div>
          
          <div class="checkContainer">
            <p id="q3-2-label">Hunger or hunger pangs</p>
            <label class="switch" aria-labelledby="q3-2-label">
              <input 
                class="inputOne"
                type="checkbox"
                role="switch"
                name="two"
                autocomplete="off"
                aria-label="Hunger or hunger pangs">
              <span class="slider round"></span>
            </label>
          </div>
          
          <div class="checkContainer">
            <p id="q3-3-label">Multitasking (constantly switching between tasks)</p>
            <label class="switch" aria-labelledby="q3-3-label">
              <input 
                class="inputOne"
                type="checkbox"
                role="switch"
                name="three"
                autocomplete="off"
                aria-label="Multitasking">
              <span class="slider round"></span>
            </label>
          </div>
          
          <div class="checkContainer">
            <p id="q3-4-label">Lack of clear goals</p>
            <label class="switch" aria-labelledby="q3-4-label">
              <input
                class="inputOne"
                type="checkbox"
                role="switch"
                name="four"
                autocomplete="off"
                aria-label="Lack of clear goals">
              <span class="slider round"></span>
            </label>
          </div>
        </div>
        <p style="display:none;"><output name="result" id="numericalResultThree" aria-live="polite"></output></p>
       </fieldset>
      </form>
    </div>

    <!-- Slide 4: Submit & Results -->
    <div class="CardSlide" id="slide-4" role="tabpanel" aria-labelledby="tab-4">
      <div style="text-align: center; padding: 40px;">
        <h2>Complete Your Assessment</h2>
        <p style="text-align: center;">Click the button below to see your answers as a graph.</p>
        <button class="submit-button" 
                onclick="changeDisplay(); submitNewData(); formOne()"
                aria-label="Submit assessment and view results">
          Submit & View Results
        </button>
      </div>
    </div>
</div>

<!-- Results Display (initially hidden) -->
<div class="displayGroup hidden" id="graphDisp" role="region" aria-label="Assessment results">
    <section class="canvasCard">
      <canvas width="500" height="500" id="communicationStyle" class="canvasGraph" role="img" aria-label="Distraction causes results chart"></canvas>
    </section>
    <div class="resultsGroup">
      <p id="results" aria-live="polite"></p>
    </div>
    <button class="submit-button" 
            onclick="changeDisplay()"
            aria-label="Return to assessment">
      Back to Assessment
    </button>
</div>

<script>
let currentSlide = 1;
const totalSlides = 4;

function goToSlide(slideNumber) {
    // Hide all slides
    const slides = document.querySelectorAll('.CardSlide');
    slides.forEach(slide => slide.classList.remove('active'));
    
    // Show the selected slide
    document.getElementById(`slide-${slideNumber}`).classList.add('active');
    
    currentSlide = slideNumber;
    updateButtons();
}

function updateButtons() {
    const buttons = document.querySelectorAll('.nav-button');
    buttons.forEach((btn, index) => {
        btn.classList.remove('active');
        btn.setAttribute('aria-selected', 'false');
        if (index === currentSlide - 1) {
            btn.classList.add('active');
            btn.setAttribute('aria-selected', 'true');
        }
    });
}

document.addEventListener('keydown', function(event) {
    const displayed = document.getElementById('displayed');
    if (!displayed.classList.contains('hidden')) {
        if (event.key === 'ArrowLeft' && currentSlide > 1) {
            goToSlide(currentSlide - 1);
        } else if (event.key === 'ArrowRight' && currentSlide < totalSlides) {
            goToSlide(currentSlide + 1);
        }
    }
});

var labels = ["Digital and technology", "Social/environment", "Work habits"];
let yValues = [0, 0, 0];
var barColors = [
  "#5DC8B9",
  "#AF4510",
  "#12195C"
];

const chart = new Chart("communicationStyle", {
  type: "doughnut",
  data: {
    labels,
    datasets: [{
      backgroundColor: barColors,
      data: yValues,
      label: 'Values',
    }],
  },
  options: {
    title: {
      display: true,
      text: "Reflection",
    },
    responsive: true,
    plugins: {
      legend: {
        position: 'top',
        labels: {
          color: 'black',
          font: {
            size: 20,
            padding: 20
          }
        },
      },
      title: {
        display: true,
        text: 'Distraction Causes Results',
        color: 'black',
        font: {
          size: 20
        }
      }
    }
  },
});

function calculateStyle1(form) {
   var answers = 0;
   if (form.elements.one.checked) answers += 1;
   if (form.elements.two.checked) answers += 1;
   if (form.elements.three.checked) answers += 1;
   if (form.elements.four.checked) answers += 1;
   if (form.elements.five.checked) answers += 1;
   form.elements.result.value = answers;
}

function calculateStyle2(form) {
   var answers = 0;
   if (form.elements.one.checked) answers += 1;
   if (form.elements.two.checked) answers += 1;
   if (form.elements.three.checked) answers += 1;
   if (form.elements.four.checked) answers += 1;
   form.elements.result.value = answers;
}

function calculateStyle3(form) {
   var answers = 0;
   if (form.elements.one.checked) answers += 1;
   if (form.elements.two.checked) answers += 1;
   if (form.elements.three.checked) answers += 1;
   if (form.elements.four.checked) answers += 1;
   form.elements.result.value = answers;
}

function submitNewData() {
  var a = Number(document.getElementById("numericalResultOne").value);
  yValues.splice(0, 1, a);

  var b = Number(document.getElementById("numericalResultTwo").value);
  yValues.splice(1, 1, b);

  var c = Number(document.getElementById("numericalResultThree").value);
  yValues.splice(2, 1, c);

  console.log(yValues);
  chart.update();
}

function formOne() {
  var a = Number(document.getElementById("numericalResultOne").value);
  var b = document.getElementById("results");
  var e = Number(document.getElementById("numericalResultTwo").value);
  var f = Number(document.getElementById("numericalResultThree").value);
  
  console.log(a, e, f);
  b.innerHTML = '<span style="font-size: 14px; text-align: left;"><p>Your distraction levels in each area were:</p><ul><li style="list-style-type: auto;">Digital and technology: ' + a + '</li><li style="list-style-type: auto;">Social/environment: ' + e + '</li><li style="list-style-type: auto;">Work habits: ' + f + '.</li></ul><br><p>Observing yourself for a day to identify distractions is a useful practice that helps you understand your personal triggers, develop strategies to improve focus and create an environment that minimises interruptions.<br> <br>A simple way to begin is by tallying up each time you check your digital devices, each time someone interrupts your work to chat, the number of meetings you have in an average day etc. This self-awareness is key to gaining control over your attention. </p></span>';
}

function changeDisplay() {
    let x = document.getElementById("CardHolder");
    let y = document.getElementById("graphDisp");
    let z = document.getElementById("displayed");
    x.classList.toggle('hidden');
    y.classList.toggle('hidden');
    z.classList.toggle('hidden');
    
    if (!x.classList.contains('hidden')) {
        currentSlide = 1;
        goToSlide(1);
    }
}

updateButtons();
</script>
</body>
</html>